//@TODO Implement real unit test
var FacebookChat = require("./index");
var params = {
  facebookId : '1380180579',
  appId : '182282665307149',
  secret_key : 'UeVmmHq1S8OvYCPgVo+eHlCjnFUIYsuloRtX6HOT',
  accessToken : 'CAACEdEose0cBAMF5p4Dvb55uOC2UCvtKKL2go2FXILBXs0Q7avGiXFWOBvg1do9h3sGcTpgaVLGZCtCZCKiZCiOMAplbV7Q2FZBxyQyKvTuoNIAjkSSfSa1hq7ORopewa7B65MBwVgsJ3FicixJGcXd4iEVt9lQPZAHr47SzSNxQZAAmVW2sNUUth4IFEM73gZD',
  host : 'chat.facebook.com'
};

var facebookClient = new FacebookChat(params);
facebookClient.on('online', function(){
  //Get friend list
  facebookClient.roster();

  //Send a message
  facebookClient.send('-100007033064024@chat.facebook.com', 'SENT FROM BEACON');

  //Get a vcard
  facebookClient.vcard();

  //Get a friend vcard
  facebookClient.vcard('-100007033064024@chat.facebook.com');
});

facebookClient.on('message', function(message){
  console.log(message);
});

facebookClient.on('presence', function(presence){
  console.log(presence);
});

facebookClient.on('roster', function(roster){
  console.log(roster);
});

facebookClient.on('vcard', function(vcard){
  console.log(vcard);
});

facebookClient.on('composing', function(from){
  console.log(from + ' compose a message');
});

facebookClient.on('error', function (err) {
  console.log("err", err);
});